<div class="register-container">
  <div class="left-panel">
    <ng-container *ngIf="!isRegisterMode; else register">
      <h2>Logowanie</h2>
      <form (ngSubmit)="onLogin()" [formGroup]="loginForm" class="login-form">
        <div class="form-group">
          <mat-form-field appearance="outline">
            <mat-label>Nazwa użytkownika</mat-label>
            <input matInput type="text" formControlName="username" />
            <mat-icon matSuffix>people</mat-icon>
          </mat-form-field>
        </div>
        <div class="form-group">
          <mat-form-field appearance="outline">
            <mat-label>Hasło</mat-label>
            <input matInput type="password" formControlName="password" />
            <mat-icon matSuffix>keys</mat-icon>
          </mat-form-field>
        </div>
        <div class="button-container">
          <button
            mat-stroked-button
            type="submit"
            [disabled]="loginForm.invalid">
            Zaloguj
          </button>
        </div>
      </form>

      <app-loader [loaderText]="'Trwa logowanie do systemu...'"></app-loader>

      <p class="switch-link">
        Nie masz jeszcze konta?
        <a routerLink="/app/register">Zarejestruj się</a>
      </p>
    </ng-container>

    <ng-template #register>
      <h2>Rejestracja</h2>

      <form
        (ngSubmit)="onRegister()"
        [formGroup]="registerForm"
        class="register-form">
        <div class="form-row">
          <div class="form-group">
            <mat-form-field appearance="outline">
              <mat-label>Imię</mat-label>
              <input matInput type="text" formControlName="firstname" />
              <mat-icon matSuffix>people</mat-icon>
            </mat-form-field>
          </div>
          <div class="form-group">
            <mat-form-field appearance="outline">
              <mat-label>Nazwisko</mat-label>
              <input matInput type="text" formControlName="lastname" />
              <mat-icon matSuffix>people</mat-icon>
            </mat-form-field>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <mat-form-field appearance="outline">
              <mat-label>Nazwa użytkownika</mat-label>
              <input matInput type="text" formControlName="username" />
              <mat-icon matSuffix>people</mat-icon>
            </mat-form-field>
          </div>
          <div class="form-group">
            <mat-form-field appearance="outline">
              <mat-label>Email</mat-label>
              <input matInput type="email" formControlName="email" />
              <mat-icon matSuffix>email</mat-icon>
            </mat-form-field>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <mat-form-field appearance="outline">
              <mat-label>Płeć</mat-label>
              <mat-select formControlName="gender">
                <mat-option value="m">Mężczyzna</mat-option>
                <mat-option value="f">Kobieta</mat-option>
                <mat-option value="u">Nieokreślony</mat-option>
              </mat-select>
              <mat-icon matSuffix>people</mat-icon>
            </mat-form-field>
          </div>
          <div class="form-group">
            <mat-form-field appearance="outline">
              <mat-label>Rola</mat-label>
              <mat-select formControlName="role">
                <mat-option value="s">Członek</mat-option>
                <mat-option value="t">Trener</mat-option>
              </mat-select>
              <mat-icon matSuffix>people</mat-icon>
            </mat-form-field>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <mat-form-field appearance="outline">
              <mat-label>Hasło</mat-label>
              <input matInput type="password" formControlName="password" />
              <mat-icon matSuffix>keys</mat-icon>
            </mat-form-field>
          </div>
        </div>
        <div class="button-container">
          <button
            mat-stroked-button
            type="submit"
            [disabled]="registerForm.invalid">
            Zarejestruj się
          </button>
        </div>
      </form>

      <app-loader [loaderText]="'Trwa rejestracja w systemie...'"></app-loader>

      <p class="switch-link">
        Masz już konto?
        <a routerLink="/app/login">Zaloguj się</a>
      </p>
    </ng-template>
  </div>
  <div class="right-panel">
    <div class="logo-container">
      <img src="icons/ox-barbell-logo.png" alt="Logo" />
      <p>Dołącz do naszej społeczności</p>
    </div>
  </div>
</div>
